# Search Interface

A modern, responsive search interface built with Next.js and React that provides advanced search capabilities including autocomplete, filters, sorting, infinite scrolling, and text highlighting.

## Table of Contents

- [Setup Instructions](#setup-instructions)
- [Architecture Overview](#architecture-overview)
- [Component Structure](#component-structure)
- [Performance Considerations](#performance-considerations)
- [Search Algorithm](#search-algorithm)

## Setup Instructions

### Prerequisites

- Node.js 18.0 or newer
- npm, yarn, pnpm, or bun

### Environment Setup

1. Clone the repository:
   ```bash
   git clone https://github.com/asadraiyan/search-interface.git
   cd search-interface
   ```

2. Install dependencies:
   ```bash
   npm install
   # or
   yarn install
   # or
   pnpm install
   # or
   bun install
   ```

3. Start the development server:
   ```bash
   npm run dev
   # or
   yarn dev
   # or
   pnpm dev
   # or
   bun dev
   ```

4. Open [http://localhost:3000](http://localhost:3000) in your browser to see the application.

### Production Build

To create an optimized production build:

```bash
npm run build
npm start
```

## Architecture Overview

This application is built using the following technologies:

- **Next.js 15.3** - React framework with App Router
- **React 19** - UI library
- **TypeScript** - Type safety
- **Tailwind CSS** - Utility-first CSS framework
- **Radix UI** - Accessible UI components
- **SWR** - Data fetching and caching
- **TanStack Query** - Data fetching and state management

The application follows a client-side architecture where:

1. The UI is rendered on the client using React components
2. Search queries are processed through a simulated API (can be replaced with real API)
3. Results are displayed with pagination via infinite scrolling
4. The state is managed using React hooks and context

## Component Structure

The application is organized in a modular component structure:

```
src/
├── app/              # Next.js App Router pages
│   ├── layout.tsx    # Root layout
│   ├── page.tsx      # Home page
│   └── providers.tsx # Context providers
├── components/       # React components
│   ├── SearchBar.tsx         # Search input with autocomplete
│   ├── SearchFilters.tsx     # Filter controls
│   ├── SearchPage.tsx        # Main page component
│   ├── SearchResultItem.tsx  # Individual result item
│   ├── SearchResultList.tsx  # Results container with infinite scroll
│   └── ui/                   # Reusable UI components
└── lib/              # Utilities and services
    ├── highlight-text.tsx    # Text highlighting utility
    ├── hooks.ts              # Custom React hooks
    ├── mock-data.ts          # Sample data
    ├── search-service.ts     # Search implementation
    └── utils.ts              # Helper functions
```

## Performance Considerations

### Optimizations Implemented

1. **Debounced Search** - Prevents excessive API calls during typing using the `useDebounce` hook
2. **Infinite Scrolling** - Loads results incrementally using the Intersection Observer API
3. **Virtualized Rendering** - Only renders visible items in the viewport for large result sets
4. **Memoization** - Uses React.memo, useMemo, and useCallback to prevent unnecessary re-renders
5. **Code Splitting** - Next.js automatic code splitting to reduce initial load time
6. **Efficient State Updates** - Batch state updates to minimize renders

### Production Optimizations

1. **Next.js Image Optimization** - If using images, leverages Next.js optimized image component
2. **Caching Strategy** - Implemented with SWR for efficient data fetching
3. **Responsive Design** - Optimized for various device sizes using Tailwind breakpoints
4. **Bundle Size Optimization** - Tree-shaking unused code

## Search Algorithm

The search functionality is implemented in `search-service.ts` with the following features:

### Query Processing

- **Text Matching** - Case-insensitive substring matching for titles and content
- **Filter Application** - Supports category filters, date ranges, and relevance score filters
- **Sorting** - Implements sorting by relevance or date in ascending or descending order
- **Pagination** - Handles result pagination for performance

### Autocomplete Implementation

The autocomplete suggestions are generated by:

1. Extracting unique words from document titles and content
2. Filtering words that start with the user's query
3. Excluding words shorter than 4 characters
4. Returning the top 5 matches

### Result Highlighting

The `highlightText` utility in `highlight-text.tsx` uses regex pattern matching to:

1. Escape special characters in the search term
2. Split the text by search term occurrences
3. Wrap matching portions in `<mark>` tags with appropriate styling
4. Return a React component with highlighted text

### Mock Data vs. Real API

The current implementation uses mock data but can be easily extended to use a real API:

- Replace the `searchDocuments()` function to make actual API calls
- Update type definitions to match the API response format
- Implement proper error handling for API failures
- Add authentication if required

### Future Enhancements

- Full-text search with ranking algorithms
- Spell correction and query suggestion
- Faceted search with dynamic filters
- Search analytics and user behavior tracking

## License

[MIT License](LICENSE)
